{"map":{"version":3,"sources":["static/js/main.cb606fa1.chunk.js"],"names":["this","push","19","module","exports","__webpack_require__","27","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","regenerator","regenerator_default","toConsumableArray","asyncToGenerator","createClass","classCallCheck","inherits","createSuper","dist","StreamlitAudioRecorder_StreamlitAudioRecorder","_StreamlitComponentBa","Object","StreamlitAudioRecorder","_super","props","_this","call","startRecording","a","mark","_callee","stream","mediaRecorder","wrap","_context","prev","next","navigator","mediaDevices","getUserMedia","audio","channelCount","sampleRate","echoCancellation","noiseSuppression","autoGainControl","sent","MediaRecorder","mimeType","audioBitsPerSecond","ondataavailable","e","data","size","setState","chunks","concat","onstop","blob","Blob","state","type","audioBlob","isRecording","reader","FileReader","onloadend","base64Audio","result","split","uint8Array","Uint8Array","atob","map","c","charCodeAt","setComponentValue","arr","fromEntries","entries","readAsDataURL","start","t0","console","error","stop","stopRecording","getTracks","forEach","track","resetRecording","downloadRecording","datetime","Date","toLocaleString","replace","filename","document","createElement","style","display","href","URL","createObjectURL","download","body","appendChild","click","removeChild","render","theme","borderStyling","primaryColor","border","outline","id","onClick","controls","src","src_StreamlitAudioRecorder","setComponentReady","setFrameHeight","StrictMode","getElementById"],"mappings":"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"},"code":"(this.webpackJsonpstreamlit_component_template=this.webpackJsonpstreamlit_component_template||[]).push([[0],{19:function(e,t,a){e.exports=a(27)},27:function(e,t,a){\"use strict\";a.r(t);var n=a(8),o=a.n(n),r=a(17),c=a.n(r),i=a(4),s=a.n(i),d=a(5),l=a(6),u=a(0),m=a(1),p=a(2),b=a(3),R=a(11),g=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).startRecording=Object(l.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:44100,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});case 3:t=e.sent,(a=new MediaRecorder(t,{mimeType:\"audio/webm;codecs=opus\",audioBitsPerSecond:128e3})).ondataavailable=function(e){e.data.size>0&&n.setState((function(t){return{chunks:[].concat(Object(d.a)(t.chunks),[e.data])}}))},a.onstop=function(){var e=new Blob(n.state.chunks,{type:\"audio/webm;codecs=opus\"});n.setState({chunks:[],audioBlob:e,isRecording:!1,mediaRecorder:null});var t=new FileReader;t.onloadend=function(){var e=t.result.split(\",\")[1],a=new Uint8Array(atob(e).split(\"\").map((function(e){return e.charCodeAt(0)})));R.a.setComponentValue({arr:Object.fromEntries(Object(d.a)(a.entries()))})},t.readAsDataURL(e)},a.start(100),n.setState({mediaRecorder:a,isRecording:!0}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(\"Error accessing microphone:\",e.t0);case 14:case\"end\":return e.stop()}}),e,null,[[0,11]])}))),n.stopRecording=function(){n.state.mediaRecorder&&n.state.isRecording&&(n.state.mediaRecorder.stop(),n.state.mediaRecorder.stream.getTracks().forEach((function(e){return e.stop()})))},n.resetRecording=function(){n.setState({isRecording:!1,audioBlob:null,chunks:[]}),R.a.setComponentValue(null)},n.downloadRecording=function(){if(n.state.audioBlob){var e=(new Date).toLocaleString().replace(/[\\s,]/g,\"\").replace(/_/g,\"\"),t=\"streamlit_audio_\".concat(e,\".webm\"),a=document.createElement(\"a\");a.style.display=\"none\",a.href=URL.createObjectURL(n.state.audioBlob),a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}},n.render=function(){var e=n.props.theme,t={};if(e){var a=\"1px solid \".concat(n.state.isRecording?e.primaryColor:\"gray\");t.border=a,t.outline=a}return o.a.createElement(\"div\",null,o.a.createElement(\"button\",{id:\"record\",onClick:n.state.isRecording?n.stopRecording:n.startRecording,style:t},n.state.isRecording?\"Stop Recording\":\"Start Recording\"),o.a.createElement(\"button\",{id:\"reset\",onClick:n.resetRecording,style:t},\"Reset\"),o.a.createElement(\"button\",{id:\"download\",onClick:n.downloadRecording,style:t},\"Download\"),n.state.audioBlob&&o.a.createElement(\"audio\",{id:\"audio\",controls:!0,src:URL.createObjectURL(n.state.audioBlob)}))},n.state={isRecording:!1,mediaRecorder:null,audioBlob:null,chunks:[]},n}return Object(u.a)(a)}(R.b),h=Object(R.c)(g);R.a.setComponentReady(),R.a.setFrameHeight(),c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(h,null)),document.getElementById(\"root\"))}},[[19,1,2]]]);","extractedComments":[]}